(this.webpackJsonpalfa=this.webpackJsonpalfa||[]).push([[0],{177:function(e,t,a){},178:function(e,t,a){},207:function(e,t){},209:function(e,t){},325:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(11),c=a.n(i),s=(a(177),a(178),a(360)),l=a(327),o=a(382),u=a(14),d=a(53),m=a(149),j=a(363),h=a(365),b=a(366),f=a(163),x=a(367),O=a(4),p=Object(s.a)((function(e){return{title:{flexGrow:1},getExcel:{backgroundColor:"#388e3c",color:"white","&:hover":{backgroundColor:"#388e3c"}},link:{textDecoration:"none",color:"white"}}})),g=function(e){Object(m.a)(e);var t=p();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(j.a,{position:"fixed",children:Object(O.jsx)(h.a,{fixed:!0,children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(f.a,{variant:"h6",className:t.title,children:"Users"}),Object(O.jsx)("a",{className:t.link,href:"".concat("https://localhost:5001/","users/getexcel"),children:Object(O.jsx)(x.a,{variant:"contained",className:t.getExcel,children:"Get Excel"})})]})})})})},N=n.a.memo((function(e){return Object(O.jsx)(g,Object(u.a)({},e))})),v=Object(d.b)((function(e){return{}}),{})(N),C=a(22),E=a.n(C),w=a(43),S=a(17),U=a(153),y=a.n(U),k=a(154),A=y.a.create({baseURL:"https://webdevfds-001-site1.itempurl.com/",httpsAgent:new k.Agent({rejectUnauthorized:!1})}),F=function(){return A.get("users").then((function(e){return e.data.users}))},L=function(e){return A.post("users",Object(u.a)({},e)).then((function(e){return e.data}))},T=function(e){return A.delete("users",{data:{id:e}})},D=function(e){return A.put("users",Object(u.a)({},e)).then((function(e){return e.data}))},M="SET_USERS",W="ADD_USER",_="REMOVE_USER",q="UPDATE_USER",R={users:[]},B=function(e){return{type:W,user:e}},I=function(e){return{type:_,id:e}},P=function(e){return{type:q,user:e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case W:return Object(u.a)(Object(u.a)({},e),{},{users:[t.user].concat(Object(S.a)(e.users))});case _:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.id}))});case q:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.user.id?Object.assign({},e,t.user):e}))});default:return e}},V="INITIALIZED_SUCCESS",G="GLOBAL_ERROR",J={initialized:!1,globalError:null},X=function(e){return{type:G,error:e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});case G:return Object(u.a)(Object(u.a)({},e),{},{globalError:t.error});default:return e}},H=a(68),K=a(155),Q=Object(H.b)({app:Z,users:z}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,$=Object(H.d)(Q,Y(Object(H.a)(K.a))),ee=a(16),te=a(2),ae=a(162),re=a(376),ne=a(377),ie=a(378),ce=a(379),se=a(380),le=a(381),oe=a(384),ue=a(27),de=a(101),me=a.n(de),je=a(368),he=a(369),be=a(370),fe=a(371),xe=a(372),Oe=a(385),pe=a(375),ge=a(87),Ne=Object(s.a)((function(e){return{create:{position:"absolute",right:0,margin:"20px 0"},dialog:{display:"flex",flexDirection:"column"},formControl:{margin:e.spacing(1),minWidth:120}}})),ve=ue.a({firstName:ue.b("Enter first name").min(3,"At least 3 characters").max(30,"Max 30 characters").required("First name is required"),middleName:ue.b("Enter middle name").min(3,"At least 3 characters").max(50,"Max 50 characters").required("Middle name is required"),lastName:ue.b("Enter last name").min(3,"At least 3 characters").max(50,"Max 50 characters"),login:ue.b("Enter login").min(3,"At least 3 characters").max(30,"Max 30 characters").required("Login is required")}),Ce=function(e){var t=e.createUser,a=Ne(),n=Object(r.useState)(!1),i=Object(ee.a)(n,2),c=i[0],s=i[1],l=function(){o.resetForm(),s(!1)},o=Object(ge.a)({initialValues:{firstName:"",middleName:"",lastName:"",login:""},validationSchema:ve,onSubmit:function(e){j(!0),t({fullNameValue:{firstName:e.firstName,middleName:e.middleName,lastName:e.lastName},login:e.login}),j(!1),l(),o.resetForm()}}),u=Object(r.useState)(!1),d=Object(ee.a)(u,2),m=d[0],j=d[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(je.a,{color:"secondary",className:a.create,onClick:function(){return s(!0)},children:Object(O.jsx)(me.a,{})}),Object(O.jsxs)(he.a,{open:c,onClose:l,fullWidth:!0,maxWidth:"xs",children:[Object(O.jsx)(be.a,{children:"Creating new user"}),Object(O.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(O.jsxs)(fe.a,{className:a.dialog,children:[Object(O.jsx)(xe.a,{children:"Fill in the gaps"}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"login",name:"login",label:"Login",value:o.values.login,onChange:o.handleChange,error:o.touched.login&&Boolean(o.errors.login),helperText:o.touched.login&&o.errors.login}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"firstName",name:"firstName",label:"First name",value:o.values.firstName,onChange:o.handleChange,error:o.touched.firstName&&Boolean(o.errors.firstName),helperText:o.touched.firstName&&o.errors.firstName}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"middleName",name:"middleName",label:"Middle name",value:o.values.middleName,onChange:o.handleChange,error:o.touched.middleName&&Boolean(o.errors.middleName),helperText:o.touched.middleName&&o.errors.middleName}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"lastName",name:"lastName",label:"Last name",value:o.values.lastName,onChange:o.handleChange,error:o.touched.lastName&&Boolean(o.errors.lastName),helperText:o.touched.lastName&&o.errors.lastName})]}),Object(O.jsxs)(pe.a,{children:[Object(O.jsx)(x.a,{onClick:l,color:"primary",children:"Cancel"}),Object(O.jsx)(x.a,{type:"submit",disabled:m,color:"primary",children:"Add"})]})]})]})]})},Ee=Object(s.a)((function(e){return{dialog:{display:"flex",flexDirection:"column"},secondaryIcon:{marginRight:e.spacing(.5),transition:"all 0.3s ease-out","&:hover":{cursor:"pointer",color:"purple"}},formControl:{margin:e.spacing(1),minWidth:120},edit:{backgroundColor:"#5c6bc0",color:"white","&:hover":{backgroundColor:"#7986cb"},margin:"5px 5px",height:"30px"}}})),we=ue.a({firstName:ue.b("Enter first name").min(3,"At least 3 characters").max(30,"Max 30 characters").required("First name is required"),middleName:ue.b("Enter middle name").min(3,"At least 3 characters").max(50,"Max 50 characters").required("Middle name is required"),lastName:ue.b("Enter last name").min(3,"At least 3 characters").max(50,"Max 50 characters"),login:ue.b("Enter login").min(3,"At least 3 characters").max(30,"Max 30 characters").required("Login is required")}),Se=function(e){var t=e.updateUser,a=e.updatingUser,n=Ee(),i=Object(r.useState)(!1),c=Object(ee.a)(i,2),s=c[0],l=c[1],o=Object(ge.a)({initialValues:{id:a.id,firstName:a.fullName.firstName,middleName:a.fullName.middleName,lastName:a.fullName.lastName,login:a.login},validationSchema:we,onSubmit:function(e){l(!0),t({id:e.id,fullName:{firstName:e.firstName,middleName:e.middleName,lastName:e.lastName},login:e.login}),l(!1),h()}}),u=Object(r.useState)(!1),d=Object(ee.a)(u,2),m=d[0],j=d[1],h=function(){o.resetForm(),j(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{className:n.edit,onClick:function(){return j(!0)},children:"Edit"}),Object(O.jsxs)(he.a,{fullWidth:!0,maxWidth:"xs",open:m,onClose:h,children:[Object(O.jsx)(be.a,{children:"Updating user"}),Object(O.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(O.jsxs)(fe.a,{className:n.dialog,children:[Object(O.jsx)(xe.a,{children:"Fill in the gaps"}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"login",name:"login",label:"Login",value:o.values.login,onChange:o.handleChange,error:o.touched.login&&Boolean(o.errors.login),helperText:o.touched.login&&o.errors.login}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"firstName",name:"firstName",label:"First name",value:o.values.firstName,onChange:o.handleChange,error:o.touched.firstName&&Boolean(o.errors.firstName),helperText:o.touched.firstName&&o.errors.firstName}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"middleName",name:"middleName",label:"Middle name",value:o.values.middleName,onChange:o.handleChange,error:o.touched.middleName&&Boolean(o.errors.middleName),helperText:o.touched.middleName&&o.errors.middleName}),Object(O.jsx)(Oe.a,{fullWidth:!0,id:"lastName",name:"lastName",label:"Last name",value:o.values.lastName,onChange:o.handleChange,error:o.touched.lastName&&Boolean(o.errors.lastName),helperText:o.touched.lastName&&o.errors.lastName})]}),Object(O.jsxs)(pe.a,{children:[Object(O.jsx)(x.a,{onClick:h,color:"primary",children:"Cancel"}),Object(O.jsx)(x.a,{type:"submit",disabled:s,color:"primary",children:"Edit"})]})]})]})]})},Ue=["users","createUser","deleteUser","updateUser"],ye=Object(s.a)((function(e){return{users:{marginTop:e.spacing(15),position:"relative"},delete:{backgroundColor:"#ef5350","&:hover":{backgroundColor:"#e57373"},color:"white",margin:"0 5px",height:"30px"},buttons:{width:"160px"},createUser:{position:"relative"}}})),ke=function(e){var t,a=e.users,n=e.createUser,i=e.deleteUser,c=e.updateUser,s=(Object(te.a)(e,Ue),ye()),l=Object(r.useState)(0),o=Object(ee.a)(l,2),u=o[0],d=o[1],m=Object(r.useState)(8),j=Object(ee.a)(m,2),b=j[0],f=j[1];t=a&&b>0?a.slice(u*b,u*b+b):a;return Object(O.jsxs)(h.a,{children:[Object(O.jsxs)(ae.a,{className:s.users,children:[Object(O.jsx)(re.a,{children:Object(O.jsxs)(ne.a,{className:s.table,children:[Object(O.jsx)(ie.a,{children:Object(O.jsxs)(ce.a,{children:[Object(O.jsx)(se.a,{children:"Login"}),Object(O.jsx)(se.a,{children:"First name"}),Object(O.jsx)(se.a,{children:"Middle name"}),Object(O.jsx)(se.a,{children:"Last name"}),Object(O.jsx)(se.a,{children:"Created At"}),Object(O.jsx)(se.a,{children:"Updated At"}),Object(O.jsx)(se.a,{})]})}),Object(O.jsx)(le.a,{children:t.map((function(e){return Object(O.jsxs)(ce.a,{children:[Object(O.jsx)(se.a,{children:e.login}),Object(O.jsx)(se.a,{children:e.fullName.firstName}),Object(O.jsx)(se.a,{children:e.fullName.middleName}),Object(O.jsx)(se.a,{children:e.fullName.lastName}),Object(O.jsx)(se.a,{children:new Date(Date.parse(e.createdAt.value)).toLocaleString()}),Object(O.jsx)(se.a,{children:new Date(Date.parse(e.updatedAt.value)).toLocaleString()}),Object(O.jsxs)(se.a,{className:s.buttons,align:"right",children:[Object(O.jsx)(Se,{updatingUser:e,updateUser:c}),Object(O.jsx)(x.a,{onClick:(t=e.id,function(){i(t)}),className:s.delete,children:"Delete"})]})]},e.id);var t}))})]})}),Object(O.jsx)(oe.a,{rowsPerPageOptions:[8,16,25],component:ae.a,count:a.length,rowsPerPage:b,page:u,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),d(0)}})]}),Object(O.jsx)("div",{className:s.createUser,children:Object(O.jsx)(Ce,{createUser:n})})]})},Ae=n.a.memo((function(e){return Object(O.jsx)(ke,Object(u.a)({},e))})),Fe=Object(d.b)((function(e){return{users:e.users.users}}),{createUser:function(e){return function(){var t=Object(w.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:r=t.sent,a(B(r.user));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteUser:function(e){return function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:a(I(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUser:function(e){return function(){var t=Object(w.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:r=t.sent,a(P(r.updatedUser));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ae),Le=Object(s.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+5,color:"#fff"}}})),Te=n.a.memo((function(e){var t=e.initializeApp,a=e.initialized,n=Le();return Object(r.useEffect)((function(){t()})),a?Object(O.jsxs)("div",{className:n.body,children:[Object(O.jsx)(v,{}),Object(O.jsx)(Fe,{})]}):Object(O.jsx)(l.a,{className:n.backdrop,open:!a,children:Object(O.jsx)(o.a,{color:"inherit"})})})),De=Object(d.b)((function(e){return{initialized:e.app.initialized,globalError:e.app.globalError}}),{initializeApp:function(){return function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(){var e=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:a=e.sent,t({type:M,users:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:t({type:V});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},handleError:function(e){return function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(X(e.toString()));case 2:setTimeout((function(){return a(X(null))}),5e3);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Te),Me=function(){return Object(O.jsx)(d.a,{store:$,children:Object(O.jsx)(De,{})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,387)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(Me,{}),document.getElementById("root")),We()}},[[325,1,2]]]);
//# sourceMappingURL=main.c1091889.chunk.js.map